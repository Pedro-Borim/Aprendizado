DECLARE
	tabela_existente int:=0;
BEGIN
  SELECT count(*) into tabela_existente FROM all_tables where table_name = 'TIPO_PROCESSO'; 

  if tabela_existente<=0 then
     EXECUTE IMMEDIATE 'CREATE TABLE TIPO_PROCESSO
  (	
    ID NUMBER(20,0) not null, 
    DESCRICAO VARCHAR2(255 CHAR) not null,
    DATA_CRIACAO TIMESTAMP (6), 
    DATA_ALTERACAO TIMESTAMP (6), 
    CRIADO_POR VARCHAR2(255 CHAR), 
    MODIFICADO_POR VARCHAR2(255 CHAR), 
    DELETADO NUMBER(1,0))';
  EXECUTE IMMEDIATE 'ALTER TABLE SERVICE_CORE_DEV.TIPO_PROCESSO ADD (CONSTRAINT KRS_INDICE_12210 PRIMARY KEY (ID))';
  end if;
END;
/

DECLARE
  SEQUENCE_EXISTENTE number := 0;  
BEGIN
  select count(*) into SEQUENCE_EXISTENTE
    from ALL_SEQUENCES
    where upper(sequence_name) = 'SEQ_TIPO_PROCESSO';
  if (SEQUENCE_EXISTENTE = 0) then
      execute immediate 'CREATE SEQUENCE SEQ_TIPO_PROCESSO MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE';
  end if;
end;

DECLARE
	tabela_existente int:=0;
BEGIN
  SELECT count(*) into tabela_existente FROM all_tables where table_name = 'TIPO_COMUNICADO'; 

  if tabela_existente<=0 then
     EXECUTE IMMEDIATE 'CREATE TABLE TIPO_COMUNICADO
  (	
    ID NUMBER(20,0) not null, 
    DESCRICAO VARCHAR2(255 CHAR) not null,
    DATA_CRIACAO TIMESTAMP (6), 
    DATA_ALTERACAO TIMESTAMP (6), 
    CRIADO_POR VARCHAR2(255 CHAR), 
    MODIFICADO_POR VARCHAR2(255 CHAR), 
    DELETADO NUMBER(1,0))';
  EXECUTE IMMEDIATE 'ALTER TABLE SERVICE_CORE_DEV.TIPO_COMUNICADO ADD (CONSTRAINT KRS_INDICE_12211 PRIMARY KEY (ID))';
  end if;
END;
/

DECLARE
  SEQUENCE_EXISTENTE number := 0;  
BEGIN
  select count(*) into SEQUENCE_EXISTENTE
    from ALL_SEQUENCES
    where upper(sequence_name) = 'SEQ_TIPO_COMUNICADO';
  if (SEQUENCE_EXISTENTE = 0) then
      execute immediate 'CREATE SEQUENCE SEQ_TIPO_COMUNICADO MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE';
  end if;
end;
